<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CentralInovacao.Pages.PageMinhasOportunidades"
             Title="Minhas Oportunidades">

    <ContentPage.ToolbarItems>
        <ToolbarItem Text   ="Logout" 
                     Clicked="Btn_Logout"/>
    </ContentPage.ToolbarItems>

    <ContentPage.Resources>
        <!--ESTILO DA GRID INTERNA À CARD-BORDER-->
        <Style TargetType="Grid" x:Key="insideGridStyle">
            <Setter Property="RowDefinitions"    Value="65,30,30,30,30"/>
            <Setter Property="ColumnDefinitions" Value="1*,5*,4*"/>
            <Setter Property="Padding"           Value="15"/>
            <Setter Property="RowSpacing"        Value="10"/>
        </Style>
        <!--ESTILO DAS LABELS INTERNAS-->
        <Style TargetType="Label" x:Key="insideLabelStyle">
            <Setter Property="FontAttributes"          Value="Bold"/>
            <Setter Property="HorizontalTextAlignment" Value="Start"/>
        </Style>
    </ContentPage.Resources>

    <Grid RowDefinitions="8*,2*">
        <CollectionView Grid.Row="0" ItemsSource="{Binding ListaDeOportunidades}">
             <!--Aqui você define o layout para cada item da coleção--> 
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Grid.Row ="0" Style="{StaticResource borderCardStyle}">
                        <Border.Shadow>
                            <Shadow Brush  ="black"
                                    Offset ="10,10"
                                    Radius ="20"
                                    Opacity="0.5"/>
                        </Border.Shadow>
                        <Grid Style="{StaticResource insideGridStyle}">
                            <Label Grid.Row               ="0"
                                   Grid.ColumnSpan        ="3"
                                   Text                   ="{Binding TituloDaSolucao}"
                                   TextColor              ="Black"
                                   FontSize               ="18"
                                   FontAttributes         ="Bold"
                                   Margin                 ="0,10"
                                   HorizontalTextAlignment= "Center"/>
                            <!--COLUNA 1-->
                            <Image Grid.Row         ="1"
                                   Grid.Column      ="0"
                                   Source           ="administrator.png"
                                   HorizontalOptions="Start"/>
                            <Image Grid.Row         ="2"
                                   Grid.Column      ="0"
                                   Source           ="barchart.png"
                                   HorizontalOptions="Start"/>
                            <Image Grid.Row         ="3"
                                   Grid.Column      ="0"
                                   Source           ="clock.png"
                                   HorizontalOptions="Start"/>
                            <!--COLUNA 2-->
                            <Label Grid.Row   ="1"
                                   Grid.Column="1"
                                   Text       ="{Binding AspectosPositivos}"
                                   Style      ="{StaticResource insideLabelStyle}"/>
                            <Label Grid.Row   ="2"
                                   Grid.Column="1"
                                   Text       ="{Binding AspectosNegativos}"
                                   Style      ="{StaticResource insideLabelStyle}"/>
                            <Label Grid.Row   ="3"
                                   Grid.Column="1"                                   
                                   Style      ="{StaticResource insideLabelStyle}"/>
                            <!--COLUNA 3-->
                            <!--VAZIA-->
                            <Button Grid.Row   ="4"
                                    Grid.Column="2"
                                    Text       ="Editar"
                                    Style      ="{StaticResource smallButtonStyle}"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <ImageButton Source           ="img_addbtn5.png"
                     Grid.Row         ="1"
                     Grid.ColumnSpan  ="2"
                     Margin           ="0,0,15,0"
                     Clicked          ="Btn_NovaOp"
                     HeightRequest    ="75"
                     WidthRequest     ="75"
                     HorizontalOptions="End"/>

    </Grid>

</ContentPage>